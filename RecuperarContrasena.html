<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="./style/global.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="./style/proyectoCarCenter.css"
    />
    <title>Recuperar Contraseña</title>
  </head>
  <body>
    <div class="container">
      <div class="cabecera">
        <img
          src="Imagenes/logo sodimac.png"
          width="300px"
          height="100px"
          alt="Logo Sodimac"
        />
      </div>

      <div class="contenido">
        <form id="recuperarForm" onsubmit="return enviarCodigo()">
          <h2>Recuperar Contraseña</h2>
          <p>Seleccione el método para recibir su código de verificación:</p>

          <div class="metodo-recuperacion">
            <input
              type="radio"
              id="whatsapp"
              name="metodo"
              value="whatsapp"
              required
            />
            <label for="whatsapp">WhatsApp</label>

            <input type="radio" id="sms" name="metodo" value="sms" />
            <label for="sms">SMS</label>

            <input type="radio" id="email" name="metodo" value="email" />
            <label for="email">Correo Electrónico</label>
          </div>

          <input
            type="text"
            id="contacto"
            placeholder="WhatsApp/Teléfono/Correo registrado"
            required
          />
          <button type="submit" class="neumorphic-button">Enviar Código</button>

          <div id="codigo-form" style="display: none">
            <input
              type="text"
              id="codigo"
              placeholder="Ingrese el código recibido"
            />
            <input
              type="password"
              id="nueva-contraseña"
              placeholder="Nueva contraseña"
            />
            <input
              type="password"
              id="confirmar-contraseña"
              placeholder="Confirmar contraseña"
            />
            <button
              type="button"
              onclick="verificarCodigo()"
              class="neumorphic-button"
            >
              Actualizar Contraseña
            </button>
          </div>
        </form>
      </div>

      <div class="container-img">
        <div class="container">
          <img src="Imagenes/logo.jpg" height="80px" width="300px" />
        </div>
      </div>
    </div>

    <script>
      function enviarCodigo() {
        const metodo = document.querySelector(
          'input[name="metodo"]:checked'
        ).value;
        const contacto = document.getElementById("contacto").value;

        let mensaje = "";
        switch (metodo) {
          case "whatsapp":
            mensaje = `Se enviará un código por WhatsApp al número: ${contacto}`;
            break;
          case "sms":
            mensaje = `Se enviará un código por SMS al número: ${contacto}`;
            break;
          case "email":
            mensaje = `Se enviará un código al correo: ${contacto}`;
            break;
        }

        alert(mensaje);
        document.getElementById("codigo-form").style.display = "block";
        return false;
      }

      function verificarCodigo() {
        const codigo = document.getElementById("codigo").value;
        const nuevaContraseña =
          document.getElementById("nueva-contraseña").value;
        const confirmarContraseña = document.getElementById(
          "confirmar-contraseña"
        ).value;

        if (nuevaContraseña !== confirmarContraseña) {
          alert("Las contraseñas no coinciden");
          return;
        }

        alert("Contraseña actualizada exitosamente");
        window.location.href = "ProyectoCarCenter.html";
      }
    </script>
  </body>
</html>
