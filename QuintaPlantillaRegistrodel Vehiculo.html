<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./style/global.css">
    <link rel="stylesheet" type="text/css" href="./style/proyectoCarCenter.css">
    <link rel="stylesheet" type="text/css" href="./style/carcenter.js">
    <title>Quinta Plantilla Registro del Vehiculo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
</head>
<body>
    <div class="container">
        <!-- Cabecera -->
        <div class="cabecera">
            <img src="Imagenes/logo sodimac.png" height="300px" width="300px" alt="Logo Sodimac">
        </div>
        <!-- Contenido -->
        <div class="contenido">
            <form action="./ConfirmacionReserva.html" method="get" id="vehiculoForm">
                <label for="Lavado">Ingresar datos del vehículo</label>
                
                <input type="text" id="placa" name="placa" placeholder="Placa (ABC123)" pattern="[A-Za-z]{3}[0-9]{3}" required>
                
                <select name="marca" id="marca" required>
                    <option value="">Seleccione la marca</option>
                    <option value="toyota">Toyota</option>
                    <option value="chevrolet">Chevrolet</option>
                    <option value="mazda">Mazda</option>
                    <option value="renault">Renault</option>
                    <option value="kia">Kia</option>
                    <option value="honda">Honda</option>
                    <option value="nissan">Nissan</option>
                    <option value="volkswagen">Volkswagen</option>
                    <option value="ford">Ford</option>
                    <option value="bmw">BMW</option>
                    <option value="mercedes">Mercedes-Benz</option>
                    <option value="audi">Audi</option>
                    <option value="subaru">Subaru</option>
                    <option value="hyundai">Hyundai</option>
                    <option value="suzuki">Suzuki</option>
                    <option value="fiat">Fiat</option>  
                    <option value="peugeot">Peugeot</option>
                    <option value="citroen">Citroën</option>
                    <option value="chrysler">Chrysler</option>
                    <option value="dodge">Dodge</option>
                    <option value="jeep">Jeep</option>
                    <option value="landrover">Land Rover</option> 
                    <option value="porsche">Porsche</option>
                    <option value="tesla">Tesla</option>
                    <option value="volvo">Volvo</option>
                    <option value="jaguar">Jaguar</option>

                </select>

                <select name="tipo" id="tipo" required>
                    <option value="">Seleccione tipo de vehículo</option>
                    <option value="sedan">Sedán</option>
                    <option value="hatchback">Hatchback</option>
                    <option value="suv">SUV / Camioneta</option>
                    <option value="pickup">Pick-up</option>
                    <option value="van">Van / Furgoneta</option>
                    <option value="deportivo">Deportivo</option>    
                    <option value="coupé">Coupé</option>
                    <option value="convertible">Convertible</option>
                </select>

                <select name="año" id="año" required>
                    <option value="">Seleccione el año</option>
                </select>

                <input type="tel" 
                       id="telefono" 
                       name="telefono"
                       placeholder="WhatsApp (ej: 3113275086)"
                       pattern="[0-9]{10}"
                       maxlength="10"
                       title="Ingrese un número de WhatsApp válido de 10 dígitos"
                       class="form-control"
                       style="width: 85%;
                              padding: 8px;
                              margin: 8px 0;
                              border: 1px solid #161616;
                              border-radius: 5px;
                              background-color: #eee;
                              text-align: center;"
                       required>

                <div class="button-container">
                    <button type="submit" class="neumorphic-button">Continuar</button>
                    <button type="button" onclick="window.location.href='ServiciosDisponibles.html'" class="neumorphic-button">Regresar</button>
                </div>
            </form>
        </div>

        <div class="footer">
            <img src="Imagenes/logo.jpg" height="80px" width="300px" alt="Logo">
        </div>
    </div>

    <!-- Botón de WhatsApp -->
    <a href="https://wa.me/+573113275086" class="whatsapp-btn" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Scripts -->
    <script>
        // Generar años desde 2024 hasta 1990
        const selectAño = document.getElementById('año');
        const añoActual = new Date().getFullYear();
        
        for(let año = añoActual; año >= 1990; año--) {
            const option = document.createElement('option');
            option.value = año;
            option.textContent = año;
            selectAño.appendChild(option);
        }

        // Validar placa
        document.getElementById('placa').addEventListener('input', function(e) {
            this.value = this.value.toUpperCase();
        });

        // Validar número de WhatsApp
        document.getElementById('telefono').addEventListener('input', function(e) {
            this.value = this.value.replace(/[^0-9]/g, '');
            if (this.value.length > 10) {
                this.value = this.value.slice(0, 10);
            }
        });

        // Validar formulario
        document.getElementById('vehiculoForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const telefono = document.getElementById('telefono').value;
            if (telefono.length !== 10) {
                alert('Por favor, ingrese un número de WhatsApp válido de 10 dígitos');
                return false;
            }
            
            const vehiculo = {
                placa: document.getElementById('placa').value,
                marca: document.getElementById('marca').value,
                tipo: document.getElementById('tipo').value,
                año: document.getElementById('año').value,
                telefono: telefono,
                fechaRegistro: new Date().toISOString()
            };

            localStorage.setItem('vehiculoActual', JSON.stringify(vehiculo));
            this.submit();
        });
    </script>
</body>
</html>